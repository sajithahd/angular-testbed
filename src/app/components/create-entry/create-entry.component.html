<label for="name">Name</label>
<input type="text" id="name" [formControl]="name">


<button (click)="updateName()">Update Name</button>


<div>original {{name.value}}</div>
<div>based on value change{{updatedValue}}</div>

<hr>
<br>
<br>
<br>
<br>

<form action="" [formGroup]="profile" (ngSubmit)="onSubmit()">
    <label for="firstName">First Name</label>
    <input type="text" id="firstName" formControlName="firstName">


    <label for="lastName">Last Name</label>
    <input type="text" id="lastName" formControlName="lastName">

    <div formGroupName="address">
        <label for="street">Street</label>
        <input type="text" id="street" formControlName="street">
        <label for="city">City</label>
        <input type="text" id="city" formControlName="city">
    </div>

    <hr>
    <div formArrayName="comments">
        <h4>comments section</h4>
        <button (click)="addComment()">Add another comment</button>

        <!--  <div *ngFor="let c of comments.controls; let i = index">        -->
        <div *ngFor="let c of profile.controls.comments.controls; let i = index">
            <label for="comment-{{i}}">Comment {{i + 1}}</label>
            <input type="text" id="comment-{{i}}" formControlName="{{i}}">
        </div>
    </div>
    <button type="submit">Submit</button>
</form>

<button (click)="update()">Update profile</button>

<div>{{profile.value | json}}</div>
<div>{{profile.valid}}</div>